{"version":3,"sources":["components/Container/Container.js","services/Pixabay.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["Container","children","className","axios","defaults","baseURL","fetchImg","query","page","url","get","then","data","hits","propTypes","PropTypes","string","isRequired","number","SearchBar","state","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","alert","handleValueChange","currentTarget","value","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","src","alt","onClick","ImageGallery","gallery","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","App","loading","showModal","error","search","getImgs","length","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","toggleModal","setImgInfo","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.686ce9b3.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst apiKey = '19822341-38023a333dc0ee1aeedcaef47';\r\nconst perPage = 12;\r\n\r\nconst fetchImg = ({ query = '', page = 1 }) => {\r\n  const url = `?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then(({ data }) => data.hits);\r\n};\r\n\r\nfetchImg.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImg;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n\r\n    if (query.trim() === '') {\r\n      alert('Enter what you are looking');\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleValueChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={query}\r\n              onChange={this.handleValueChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = '',\r\n  onSetImgInfo,\r\n}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItemImage\"\r\n        onClick={() => {\r\n          onSetImgInfo({ largeImageURL, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ gallery, onSetImgInfo }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {gallery.map(({ webformatURL, largeImageURL, tags }, idx) => (\r\n      <ImageGalleryItem\r\n        key={idx}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        tags={tags}\r\n        onSetImgInfo={onSetImgInfo}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className=\"Button\" onClick={() => onLoadMore()}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleClickBackdrop}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport fetchImg from './services/Pixabay';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    query: 'ukraine',\n    page: 1,\n    gallery: [],\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    alt: null,\n    error: null,\n  };\n  componentDidMount() {\n    this.getImgs();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      this.getImgs();\n    }\n  }\n\n  handleSubmit = search => {\n    if (this.state.query === search) {\n      return;\n    }\n\n    this.setState({\n      query: search,\n      page: 1,\n      gallery: [],\n    });\n  };\n\n  getImgs = () => {\n    const { query, page } = this.state;\n\n    this.setState({ loading: true });\n\n    fetchImg({ query, page })\n      .then(gallery => {\n        if (gallery.length === 0) {\n          alert(`Sorry! ${query} is not found`);\n          return;\n        }\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...gallery],\n          page: prevState.page + 1,\n          error: false,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      gallery,\n      showModal,\n      largeImageURL,\n      alt,\n      loading,\n      error,\n    } = this.state;\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {error && <p>Whoops, something went wrong.</p>}\n        {loading && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n        <ImageGallery gallery={gallery} onSetImgInfo={this.setImgInfo} />\n        {gallery.length > 0 && !loading && <Button onLoadMore={this.getImgs} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={alt} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}