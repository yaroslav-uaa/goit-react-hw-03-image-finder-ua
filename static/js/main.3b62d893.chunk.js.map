{"version":3,"sources":["components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/Pixabay.js","App.js","index.js"],"names":["Container","children","className","SearchBar","state","query","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","alert","handleValueChange","currentTarget","value","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","onOpenModal","src","alt","onClick","ImageGallery","gallery","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","handleBackdropClick","axios","defaults","baseURL","fetchImg","page","url","get","then","data","hits","propTypes","PropTypes","string","isRequired","number","App","loading","showModal","error","search","getImgs","setTimeout","length","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b62d893.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n\r\n    if (query.trim() === '') {\r\n      alert('Enter what you are looking');\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleValueChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={query}\r\n              onChange={this.handleValueChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = '',\r\n  onSetImgInfo,\r\n  onOpenModal,\r\n}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItemImage\"\r\n        onClick={() => {\r\n          onSetImgInfo({ largeImageURL, tags });\r\n          onOpenModal();\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ gallery, onSetImgInfo, onOpenModal }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {gallery.map(({ webformatURL, largeImageURL, tags }, idx) => (\r\n      <ImageGalleryItem\r\n        key={idx}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        tags={tags}\r\n        onSetImgInfo={onSetImgInfo}\r\n        onOpenModal={onOpenModal}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className=\"Button\" onClick={() => onLoadMore()}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst apiKey = '19822341-38023a333dc0ee1aeedcaef47';\r\nconst perPage = 12;\r\n\r\nconst fetchImg = ({ query = '', page = 1 }) => {\r\n  const url = `?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then(({ data }) => data.hits);\r\n};\r\n\r\nfetchImg.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImg;\r\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport fetchImg from './services/Pixabay';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    alt: null,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      this.getImgs();\n    }\n  }\n\n  handleSubmit = search => {\n    if (this.state.query === search) {\n      return;\n    }\n\n    this.setState({\n      query: search,\n      page: 1,\n      gallery: [],\n    });\n  };\n\n  getImgs = () => {\n    const { query, page } = this.state;\n\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      fetchImg({ query, page })\n        .then(gallery => {\n          if (gallery.length === 0) {\n            alert(`Sorry! ${query} is not found`);\n          }\n          this.setState(prevState => ({\n            gallery: [...prevState.gallery, ...gallery],\n            loading: false,\n            page: prevState.page + 1,\n          }));\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => {\n          this.setState({ loading: false });\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }, 200);\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n  };\n\n  render() {\n    const {\n      gallery,\n      showModal,\n      largeImageURL,\n      alt,\n      loading,\n      error,\n    } = this.state;\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {error && <p>Whoops, something went wrong.</p>}\n        {loading && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={2000}\n          />\n        )}\n        <ImageGallery\n          gallery={gallery}\n          onOpenModal={this.toggleModal}\n          onSetImgInfo={this.setImgInfo}\n        />\n        {gallery.length > 0 && !loading && <Button onLoadMore={this.getImgs} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={alt} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}