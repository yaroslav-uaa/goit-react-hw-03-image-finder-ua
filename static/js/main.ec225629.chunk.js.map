{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/Pixabay.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Container","children","className","SearchBar","state","query","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","alert","handleValueChange","currentTarget","value","this","s","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","i","src","alt","ImageGalleryItemImage","onClick","ImageGallery","gallery","im","map","idx","Button","onLoadMore","b","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","m","Overlay","axios","defaults","baseURL","fetchImg","page","url","get","then","data","hits","propTypes","PropTypes","string","isRequired","number","App","loading","showModal","error","search","getImgs","length","prevState","scrollPageDown","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec225629.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__dT0YG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3uNmi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3z0Vi\",\"Modal\":\"Modal_Modal__1Rtbo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__WvKop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__OJ_JK\"};","import PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n\r\n    if (query.trim() === '') {\r\n      alert('Enter what you are looking');\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleValueChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm_button}>\r\n              <span className={s.SearchForm_button_label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm_input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={query}\r\n              onChange={this.handleValueChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\nimport i from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = '',\r\n  onSetImgInfo,\r\n}) => {\r\n  return (\r\n    <li className={i.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={i.ImageGalleryItemImage}\r\n        onClick={() => {\r\n          onSetImgInfo({ largeImageURL, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport im from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ gallery, onSetImgInfo }) => (\r\n  <ul className={im.ImageGallery}>\r\n    {gallery.map(({ webformatURL, largeImageURL, tags }, idx) => (\r\n      <ImageGalleryItem\r\n        key={idx}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        tags={tags}\r\n        onSetImgInfo={onSetImgInfo}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport b from './Button.module.css';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={b.Button} onClick={() => onLoadMore()}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport m from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleClickBackdrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={m.Overlay} onClick={this.handleClickBackdrop}>\r\n        <div className={m.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst apiKey = '19822341-38023a333dc0ee1aeedcaef47';\r\nconst perPage = 12;\r\n\r\nconst fetchImg = ({ query = '', page = 1 }) => {\r\n  const url = `?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then(({ data }) => data.hits);\r\n};\r\n\r\nfetchImg.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImg;\r\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport fetchImg from './services/Pixabay';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    alt: null,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      this.getImgs();\n    }\n  }\n\n  handleSubmit = search => {\n    if (this.state.query === search) {\n      return;\n    }\n\n    this.setState({\n      query: search,\n      page: 1,\n      gallery: [],\n    });\n  };\n\n  getImgs = () => {\n    const { query, page } = this.state;\n\n    this.setState({ loading: true });\n\n    fetchImg({ query, page })\n      .then(gallery => {\n        if (gallery.length === 0) {\n          alert(`Sorry! ${query} is not found`);\n        }\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...gallery],\n          page: prevState.page + 1,\n        }));\n        this.scrollPageDown();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  scrollPageDown = () => {\n    // setTimeout(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    // }, 600);\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      gallery,\n      showModal,\n      largeImageURL,\n      alt,\n      loading,\n      error,\n    } = this.state;\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {error && <p>Whoops, something went wrong.</p>}\n        {loading && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={2000}\n          />\n        )}\n        <ImageGallery gallery={gallery} onSetImgInfo={this.setImgInfo} />\n        {gallery.length > 0 && !loading && <Button onLoadMore={this.getImgs} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={alt} width=\"800\" height=\"600\" />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1sseT\",\"SearchForm\":\"SearchBar_SearchForm__3YGct\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1Yz1j\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__3Koix\",\"SearchForm_input\":\"SearchBar_SearchForm_input__1KKtF\"};"],"sourceRoot":""}